# 《大唐西域记》数字人文可视化项目

基于唐代高僧玄奘所著《大唐西域记》的交互式数字地图项目，展示玄奘西行路线及相关历史地理信息。

## 项目特色

- 🌍 **交互式地图**: 使用Leaflet.js创建的动态地图，展示玄奘西行路线
- 📍 **38个国家/城市**: 涵盖《大唐西域记》中记载的所有国家和地区
- 🖱️ **可交互元素**: 点击地图标记和路线查看详细信息
- 📱 **响应式设计**: 适配桌面和移动设备
- 🖼️ **丰富多媒体**: 包含各国历史图片和相关资料
- 📚 **原文展示**: 显示《大唐西域记》相关原文段落

## 技术栈

- **前端**: HTML5, CSS3, JavaScript (ES6+)
- **地图**: Leaflet.js (OpenStreetMap)
- **样式**: 自定义CSS，支持响应式设计
- **部署**: GitHub Pages

## 项目结构

```
├── index.html          # 主页面
├── styles.css          # 样式文件
├── data.js             # 国家地理数据
├── map.js              # 地图交互逻辑
├── app.js              # 应用主逻辑
├── geocoder.js         # 地理坐标解析器（开发用）
├── 图片/               # 各国历史图片
│   ├── 1.古阿耆尼国——博格达沁古城遗址.webp
│   └── ...
├── 网页/               # 原文和地理信息
│   ├── 地点信息/       # 各国现代位置信息
│   └── 原文分段/       # 《大唐西域记》原文
├── fonts/              # 字体文件
│   └── yanzhenqin.ttf
├── .github/workflows/  # GitHub Actions配置
└── README.md           # 项目说明
```

## 快速开始

### 本地运行

1. 克隆或下载项目文件
2. 直接在浏览器中打开 `index.html` 文件
3. 或者使用本地服务器：
   ```bash
   # 使用Python
   python -m http.server 8000
   
   # 使用Node.js
   npx http-server
   ```

### GitHub Pages部署

1. 将项目上传到GitHub仓库
2. 在仓库设置中启用GitHub Pages
3. 选择部署分支（main/master）
4. 访问 `https://[用户名].github.io/[仓库名]`

## 功能说明

### 地图功能
- **缩放控制**: 支持鼠标滚轮和触摸缩放
- **平移导航**: 拖拽地图查看不同区域
- **标记显示**: 38个国家/城市的精确位置标记
- **路线展示**: 玄奘西行路线的虚线连接

### 交互功能
- **点击标记**: 查看国家详细信息
- **点击路线**: 查看最近国家的信息
- **侧边栏**: 国家列表和搜索功能
- **详情模态框**: 显示原文、图片和现代位置

### 控制功能
- **显示/隐藏路线**: 切换路线显示状态
- **显示/隐藏标记**: 切换国家标记显示
- **重置视图**: 回到初始地图视图

## 数据来源

- **地理坐标**: 基于各国现代位置精确定位
- **原文内容**: 《大唐西域记》相关段落
- **图片资料**: 各国历史遗迹和现代景观
- **现代位置**: 各国对应的现代行政区划

## 浏览器兼容性

- Chrome 60+
- Firefox 55+
- Safari 12+
- Edge 79+
- 移动端浏览器

## 开发说明

### 添加新的国家数据

在 `data.js` 文件中添加新的国家对象：

```javascript
{
    id: 37,
    name: '国家名称',
    modernName: '现代地名',
    country: '所属国家',
    lat: 纬度,
    lng: 经度,
    description: '简要描述',
    modernLocation: '详细现代位置说明',
    images: ['图片文件名.webp']
}
```

### 自定义样式

主要样式文件 `styles.css` 包含：
- 响应式布局设计
- 地图标记样式
- 模态框动画效果
- 移动端优化

### 地图配置

地图相关配置在 `map.js` 中：
- 初始视图和缩放级别
- 标记图标样式
- 路线样式和交互

## 贡献指南

欢迎提交Issue和Pull Request来改进项目：

1. Fork 项目
2. 创建功能分支 (`git checkout -b feature/AmazingFeature`)
3. 提交更改 (`git commit -m 'Add some AmazingFeature'`)
4. 推送到分支 (`git push origin feature/AmazingFeature`)
5. 开启Pull Request

## 许可证

本项目采用 MIT 许可证 - 查看 [LICENSE](LICENSE) 文件了解详情

## 致谢

- 感谢玄奘法师的伟大著作《大唐西域记》
- 感谢OpenStreetMap提供地图数据
- 感谢Leaflet.js团队开发优秀的地图库

## 联系方式

如有问题或建议，请通过GitHub Issues联系我们。

---

**玄奘西行，千年回响** - 通过数字技术再现历史壮举